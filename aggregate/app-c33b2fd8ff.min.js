var router=angular.module("router",["ui.router"]);router.config(function(e,l){l.when("","/home"),e.state("home",{url:"/home",templateUrl:"sum/song.html",controller:function(e,l){function n(){$.ajax({url:"data/data.json",success:function(e){var l="";$.each(e,function(e,n){l+="<li>"+n.music+" <i class='iconfont icon-xiazaidaoru'></i></li>"}),$(".readen ul").append(l),t.refresh()}})}var t=(new Swiper(".swiper-container1",{autoplay:1e3,pagination:".swiper-pagination",paginationClickable:!0}),new iScroll("wrapper1"));return $(".pullUp").on("click",function(){n(),t.refresh()}),l.get("data/data.json").then(function(l){e.date=l.data}),e.date}}).state("ranking",{url:"/ranking",templateUrl:"sum/home.html",controller:function(e,l){function n(){$.ajax({url:"data/music.json",success:function(e){var l="";$.each(e,function(e,n){l+='<dl><dt><img src="'+n.src+'" alt="imgs1"></dt><dd><h3>'+n.title+'</h3><div class="liepan-icon"><i class="iconfont icon-gengduo1 f20"></i></div></dd></dl>'}),$(".liepan").append(l)}}),myScroll.refresh()}function t(){setTimeout(function(){myScroll.refresh()},1e3)}function a(){alert("刷新成功"),myScroll.refresh()}function o(){n()}return function(){var e=document.getElementById("pullDown1"),l=e.offsetHeight,n=document.getElementById("pullUp1");myScroll=new iScroll("wrapper2",{topOffset:l,momentum:!1,fadeScrollbars:!0,onScrollMove:function(){this.y>5&&!e.className.match("flip")?(e.className="flip",e.querySelector(".pullDownLabel").innerHTML="释放刷新"):this.y<this.maxScrollY-5&&!n.className.match("flip")&&(n.className="flip",n.querySelector(".pullUpLabel").innerHTML="释放刷新")},onScrollEnd:function(){e.className.match("flip")?(e.className="loading",e.querySelector(".pullDownLabel").innerHTML="加载中",a()):n.className.match("flip")&&(n.className="loading",n.querySelector(".pullUpLabel").innerHTML="加载中",o()),t()},onRefresh:function(){e.className.match("loading")?(e.className="",e.querySelector(".pullDownLabel").innerHTML="下拉刷新"):n.className.match("loading")&&(n.className="",n.querySelector(".pullUpLabel").innerHTML="上拉加载更多")}})}(),l.get("data/music.json").then(function(l){e.arr=l.data}),e.arr}}).state("sheet",{url:"/sheet",templateUrl:"sum/sheet.html",controller:function(e,l){function n(){$.ajax({url:"data/singer.json",success:function(e){var l="";$.each(e,function(e,n){l+='<dl><dt><img src="'+n.src+'" alt="imgs1"></dt><dd><h3>'+n.title+'</h3><div class="liepan-icon"><i class="iconfont icon-gengduo1 f20"></i></div><div class="liepan-icons"><i class="iconfont icon-xihuan-xianxing"></i>"'+n.ion+'"</div></dd></dl>'}),$(".liep").append(l)}}),myScroll.refresh()}function t(){setTimeout(function(){myScroll.refresh()},1e3)}function a(){alert("刷新成功"),myScroll.refresh()}function o(){n()}return function(){var e=document.getElementById("pullDown2"),l=e.offsetHeight,n=document.getElementById("pullUp2");myScroll=new iScroll("wrapper3",{topOffset:l,momentum:!1,fadeScrollbars:!0,onScrollMove:function(){this.y>5&&!e.className.match("flip")?(e.className="flip",e.querySelector(".pullDownLabel").innerHTML="释放刷新"):this.y<this.maxScrollY-5&&!n.className.match("flip")&&(n.className="flip",n.querySelector(".pullUpLabel").innerHTML="释放刷新")},onScrollEnd:function(){e.className.match("flip")?(e.className="loading",e.querySelector(".pullDownLabel").innerHTML="加载中",a()):n.className.match("flip")&&(n.className="loading",n.querySelector(".pullUpLabel").innerHTML="加载中",o()),t()},onRefresh:function(){e.className.match("loading")?(e.className="",e.querySelector(".pullDownLabel").innerHTML="下拉刷新"):n.className.match("loading")&&(n.className="",n.querySelector(".pullUpLabel").innerHTML="上拉加载更多")}})}(),l.get("data/singer.json").then(function(l){e.date=l.data}),e.date}}).state("singer",{url:"/singer",templateUrl:"sum/singer.html",controller:function(e,l){function n(){$.ajax({url:"data/list.json",success:function(e){var l="";$.each(e,function(e,n){l+='<ul class="list"><li>'+n.male+'<i class="iconfont icon-gengduo1"></i></li><li>'+n.female+'<i class="iconfont icon-gengduo1"></i></li><li>'+n.name+'<i class="iconfont icon-gengduo1"></i></li></ul>'}),$(".lisp").append(l)}}),myScroll.refresh()}function t(){setTimeout(function(){myScroll.refresh()},1e3)}function a(){alert("刷新成功"),myScroll.refresh()}function o(){n()}return function(){var e=document.getElementById("pullDown3"),l=e.offsetHeight,n=document.getElementById("pullUp3");myScroll=new iScroll("wrapper4",{topOffset:l,momentum:!1,fadeScrollbars:!0,onScrollMove:function(){this.y>5&&!e.className.match("flip")?(e.className="flip",e.querySelector(".pullDownLabel").innerHTML="释放刷新"):this.y<this.maxScrollY-5&&!n.className.match("flip")&&(n.className="flip",n.querySelector(".pullUpLabel").innerHTML="释放刷新")},onScrollEnd:function(){e.className.match("flip")?(e.className="loading",e.querySelector(".pullDownLabel").innerHTML="加载中",a()):n.className.match("flip")&&(n.className="loading",n.querySelector(".pullUpLabel").innerHTML="加载中",o()),t()},onRefresh:function(){e.className.match("loading")?(e.className="",e.querySelector(".pullDownLabel").innerHTML="下拉刷新"):n.className.match("loading")&&(n.className="",n.querySelector(".pullUpLabel").innerHTML="上拉加载更多")}})}(),l.get("data/list.json").then(function(l){e.lt=l.data}),e.lt}}).state("search",{url:"/search",templateUrl:"sum/search.html",controller:function(e,l){return e.add=function(l){if(l){var n=[];return e.txt.forEach(function(e,t){-1!=e.name.indexOf(l)&&n.push(e)}),e.txt=n}return e.txt},l.get("data/search.json").then(function(l){e.txt=l.data}),e.txt}})}),router.filter("filte",function(){return function(e,l){if(l){var n=[];return e.forEach(function(e,t){-1!=e.name.indexOf(l)&&n.push(e)}),n}return e}}),router.controller("cont",function(e,l){});